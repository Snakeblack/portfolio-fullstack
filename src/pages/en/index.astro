---
import Layout from "../../layouts/Layout.astro";
import Navigation from "../../components/Navigation.astro";
import HeroSection from "../../components/HeroSection.astro";
import SocialLinks from "../../components/SocialLinks.astro";
import AboutSection from "../../components/AboutSection.astro";
import ExperienceSection from "../../components/ExperienceSection.astro";
import ProjectsSection from "../../components/ProjectsSection.astro";
import SkillsSection from "../../components/SkillsSection.astro";
import Footer from "../../components/Footer.astro";
import CommonScripts from "../../components/CommonScripts.astro";
import portfolioData from "../../data/portfolio.json";
import { getTranslations } from "../../utils/translations.ts";

const currentLocale = "en";
const t = getTranslations(currentLocale);

const { personalInfo, social, experience, projects, skills } = portfolioData;
---

<Layout 
  title={`${personalInfo.name} - Portfolio`}
  description={`Portfolio and projects of ${personalInfo.name}`}
  lang={currentLocale}
>
  <!-- Navigation -->
  <Navigation 
    name="Manuel"
    currentLocale={currentLocale}
  />

  <!-- Main Content -->
  <main class="pt-20">
    <!-- Hero Section -->
    <HeroSection 
      greeting={personalInfo.greeting[currentLocale]}
      name="Manuel Retamozo G."
      description={personalInfo.description[currentLocale]}
      sleepingMessage={personalInfo.sleepingMessage[currentLocale]}
      email={personalInfo.email}
      getInTouchText={t.actions.getInTouch}
    >
      <SocialLinks 
        social={social}
      />
    </HeroSection>

    <!-- About Section -->
    <AboutSection 
      title={t.sections.about}
      content={personalInfo.about[currentLocale]}
    />

    <!-- Work Experience Section -->
    <ExperienceSection 
      title={t.sections.experience}
      experience={experience}
      currentLocale={currentLocale}
    />

    <!-- Projects Section -->
    <ProjectsSection 
      title={t.sections.projects}
      projects={projects}
      currentLocale={currentLocale}
      viewAllText={t.actions.viewAll}
      maxProjects={3}
    />

    <!-- Skills Section -->
    <SkillsSection 
      title={t.sections.skills}
      skills={skills}
    />
  </main>

  <!-- Footer -->
  <Footer 
    builtWithText={t.ui.builtWith}
    andText={t.ui.and}
    copyrightText="Manuel Michael Retamozo García © 2025"
  />

  <!-- Common Scripts -->
  <CommonScripts />
</Layout>
